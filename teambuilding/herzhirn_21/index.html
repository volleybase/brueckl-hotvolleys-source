<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Brückl hotvolleys</title>
  <link rel="stylesheet" href="/styles.css">
  <style>
div#content_container {
  padding: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
div {
  box-sizing: border-box;
}
div.container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
  white-space: nowrap;
}
div.title {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 1.2em;

  text-align: center;
  font-weight: bold;
  font-size: 4em;
  line-height: 100%;

  border-bottom: 1px solid gray;
}
div.title > div#back {
  position: absolute;
  top: 0;
  left: 0.2em;
  height: 0.95em;
  width: 0.95em;
  font-size: 1.1em;
  line-height: 100%;
  z-index: 1;
  color: gray;
  background: lightgray;
  border-radius: 50%;
  opacity: 0.9;
  cursor: pointer;
}
div.info {
  position: absolute;
  left: 0.5em;
  right: 0.5em;
  top: 2.5em;
  bottom: 1.5em;
  text-align: left;
  font-size: 2.2em;
  font-weight: normal;
  overflow: auto;
}
p, ol, ul, li {
  font-size: 1em;
  text-align: left;
}
ol, ul {
  padding-left: 1.5em;
}
p {
  position: relative;
  padding: 0.5em 0;
}
#footer {
  padding: 0;
}
#footer > div {
  position: relative;
  padding: 0.3em;
}
div.links {
  position: absolute;
  left: 0;
  width: 100%;
  bottom: 0;
  height: 1.2em;
  line-height: 100%;
  text-align: left;
  font-size: 2em;
  font-weight: normal;
  /* border-top: 1px solid gray; */
}
div.links > div {
  font-size: 0.8em;
  opacity: 0.5;
}
div.links > div.link {
  cursor: pointer;
  opacity: 1;
}

div.column {
  display: inline-block;
  font-weight: normal;
}
div.w100 {
  width: 100%;
}
div.w50 {
  width: 50%;
}
div.w34 {
  width: 34%;
}
div.w33 {
  width: 33%;
}
div.w25 {
  width: 25%;
}

strong {
  font-size: inherit;
}
  </style>
  <script>
var data = {
  "title": "Herz + Hirn",
  "info": "<p><img src=\"info.png\" alt=\"Herz + Hirn\" /></p>",
  "items": [
    {
      "title": "Technik",
      "info": "<p>Aufspiel: Tempo + Daumen<br>Mitte: Richtung geben mit dem Handgelenk, nicht mit dem Körper<br>Außen: Runterziehen -&gt; 3m-Linie, Tempo<br>ein Trick für jede Spielerin</p>",
      "items": [
        {
          "title": "Aufspiel",
          "info": ""
        },
        {
          "title": "Mitte",
          "info": ""
        },
        {
          "title": "Außen",
          "info": ""
        },
        {
          "title": "Tricks",
          "info": "<p>Block-Out provozieren</p>",
          "items": [
            {
              "title": "Block-Out",
              "info": "<p>Wenn der Ball nah am Netz und weit genug außen ist,<br>kann die Angreiferin den Ball mit der Schlaghand nach außen drücken<br>und so den Ball vom Block ins Out spielen =&gt; <strong>Punkt für uns</strong>.</p>"
            }
          ]
        }
      ]
    },
    {
      "title": "Infos zum Angriff",
      "info": "<p>Wann: Zeitpunkt des Absprungs<br>Wo: Ort des Absprung</p>",
      "items": [
        {
          "title": "Wann",
          "info": "<ol><li><p>Tempo - Schnellangriff<br>1, 3, 4<br>Die Angreiferin springt, wenn die Aufspielerin den Ball berührt.<br>Die Angreiferin orientiert sich an der &quot;Schulter&quot; der Aufspielerin.</p></li><li><p>Tempo - Meter-, Kombinationsangriff<br>5v, 6, 8, 9(Mitte oder Pipe)<br>Die Angreiferin hat den 1. Schritt gemacht, wenn die Aufspielerin den Ball berührt.<br>&quot;Die Angreiferin ist am linken Fuß.&quot;</p></li><li><p>Tempo - Hoher Ball<br>0, 2, 9(1)<br>Die Angreiferin startet nachdem die Aufspielerin gespielt hat.</p></li></ol>"
        },
        {
          "title": "Wo",
          "info": "<p>1: bei der Aufspielerin(vor ihr)<br>3: bei der Aufspielerin (hinter ihr)<br>4: ca. 2-3m vor der Aufspielerin</p><p>5v: ca.1-1,5m vor der Aufspielerin<br>6: Pos. 4 - &quot;bei der Antenne&quot;<br>8: ca. 3,5-4m vor der Aufspielerin</p><p>0: Pos. 4 - &quot;bei der Antenne links&quot;<br>2: Pos. 2 - &quot;bei der Antenne rechts&quot;</p><p>9er - Hinterfeld<br>immer knapp(!) hinter der 3m-Linie<br>Mitte: genau in der Mitte<br>Pipe: hinter der Aufspielerin<br>1: rechts, knapp innerhalb der Seitenlinie</p>"
        }
      ]
    },
    {
      "title": "Stimmung",
      "info": "<p>Mannschaftstreffen Mai 2020</p>",
      "items": [
        {
          "title": "Teambuilding",
          "info": "<p>Sind erfolgreiche Mannschaften eher laut oder leise?<br>Was könnte es bringen laut zu sein?<br>Was kann ich dazu beitragen, dass wir so richtig laut werden?</p>",
          "items": [
            {
              "title": "Warum laut?",
              "info": "<p><img src=\"2005241.jpeg\" alt=\"Warum laut?\" /></p>",
              "items": [
                {
                  "title": "Danke für Deine Mitarbeit!",
                  "info": ""
                }
              ]
            },
            {
              "title": "Wir werden laut!",
              "info": "<p><img src=\"2005242.jpeg\" alt=\"Warum laut?\" /></p>",
              "items": [
                {
                  "title": "Danke für Deine Mitarbeit!",
                  "info": ""
                }
              ]
            }
          ]
        }
      ]
    }
  ]
};

var data_history = [],
    links = null;

function init(data, withBack) {
  var elemTit = document.getElementById('title'),
      elemInf = document.getElementById('info'),
      elemLnks = document.getElementById('footer'),
      elemBack = document.getElementById('back'),
      l;

  data_history.push(data);

  elemTit.innerHTML = setTitle(data.title, withBack);
  elemInf.innerHTML = data.info ? data.info : '&nbsp;';

  // remove old links
  if (links) {
    for (l = 0; l < links.length; ++l) {
      links[l].removeEventListener('click', handleLink);
    }
  }
  if (elemBack) {
    elemBack.removeEventListener('click', handleBackLink);
  }

  // create new links
  elemLnks.innerHTML = createLinks(data.items);

  setTimeout(connectLinks, 1);
}
function setTitle(title, withBack) {
  return (withBack ? '<div id="back">&lt;</div>' : '')
    + title;
}
function createLinks(items) {
  var i, i2, lnks;

  if (Array.isArray(items)) {
    lnks = '';
    for (i = 0, i2 = items.length; i < i2; ++i) {
      lnks += createLink(items[i], i, i2);
    }
    return lnks;
  }

  return '&nbsp;';
}
function createLink(item, index, cnt) {
  var clazz = item.info ? ' link' : '',
      id = item.info ? ' id="idx' + index + '"' : '',
      lnk = '<div' + id + ' class="column w' + Math.round(100 / cnt) + clazz + '">'
    + item.title
    + '</div>';

  return lnk;
}
function connectLinks() {
  var l,
      links = document.querySelectorAll('div.link'),
      elemBack = document.getElementById('back');

  for (l = 0; l < links.length; ++l) {
    links[l].addEventListener('click', handleLink);
  }
  if (elemBack) {
    elemBack.addEventListener('click', handleBackLink);
  }

  // center images
  centerImages();
}
function centerImages() {
  var imgs = document.querySelectorAll('#content_container > div.container > div.info img'),
      retry = false;

  if (imgs.length > 0) {
    for (var i = 0; i < imgs.length; ++i) {
      var w = imgs[i].width;
      if (isFinite(w) && w > 0) {
        imgs[i].style.position = 'absolute';
        imgs[i].style.left = '50%';
        imgs[i].style.marginLeft = '-' + Math.floor(w / 2) + 'px';
      } else {
        retry = true;
      }
    }
  }

  if (retry) {
    setTimeout(centerImages, 10);
  }
}

function handleLink(event) {
  var lnk = parseInt(event.currentTarget.id.substr(3), 10),
      last, cur, next;

  if (!isNaN(lnk)) {
    last = data_history.length - 1;
    cur = data_history[last];
    next = cur.items[lnk];
    init(next, true);
  }
}
function handleBackLink(event) {
  var last, cur;

  data_history.pop();
  last = data_history.length - 1;
  cur = data_history[last];
  data_history.pop();
  init(cur, last > 0);
}
  </script>
</head>
<body onload="init(data, false);">
  <div id="header">
    <div class="left">
    <a href="/ov.html#herzhirn_21"><img src="/image/bhv1.gif"/></a>
    <div>Herz + Hirn</div>
    </div><div class="right">
    <a href="/ov.html#herzhirn_21"><img src="/image/bhv1.gif"/></a>
    </div>
  </div>
  <div id="content_container">
    <div class="container">
     <div id="title" class="title">Title</div>
     <div id="info" class="info">Info</div>
     <div id="footer" class="links footer">Links</div>
    </div>
  </div>
  <!--div id="footer">Brückl Hotvolleys<div>Brückl Hotvolleys</div></div-->
</body>
</html>
